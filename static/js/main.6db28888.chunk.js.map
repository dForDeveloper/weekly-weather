{"version":3,"sources":["utils/api.js","actions/index.js","utils/dataCleaner.js","thunks/getWeather.js","containers/Search/Search.js","thunks/forwardGeocode.js","components/ForecastBar/ForecastBar.js","components/Graph/Graph.js","components/WeatherContainer/WeatherContainer.js","thunks/reverseGeocode.js","containers/App/App.js","thunks/getUserIP.js","thunks/getWeatherByGeolocation.js","reducers/locationReducer.js","reducers/index.js","reducers/weatherReducer.js","reducers/errorReducer.js","reducers/isLoadingReducer.js","index.js"],"names":["fetchData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","url","response","message","wrap","_context","prev","next","fetch","sent","ok","json","Error","abrupt","stop","_x","apply","this","arguments","setCoordinates","type","latitude","longitude","setCity","city","setWeather","weather","setError","toggleLoading","bool","isLoading","cleanData","_weather$currently","currently","temperature","apparentTemperature","summary","_weather$daily$data$r","daily","data","reduce","acc","day","minTemp","Math","round","min","temperatureLow","maxTemp","max","temperatureHigh","week","getWeekForecast","firstDay","shift","today","objectSpread","feelsLike","graphData","getGraphData","hourly","slice","map","forecast","icon","precipType","precipProbability","time","sunriseTime","sunsetTime","windSpeed","windBearing","humidity","Date","toDateString","low","high","sunrise","toLocaleTimeString","replace","sunset","wind","getWindDirection","hourData","id","hour","x","y","getWeather","lat","lon","_ref2","dispatch","concat","t0","Search","_Component","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","event","setState","query","target","value","handleSubmit","preventDefault","state","props","forwardGeocode","inherits","createClass","key","react_default","createElement","onSubmit","className","onChange","placeholder","Component","connect","userQuery","geocodeData","_geocodeData$0$geomet","_geocodeData$0$compon","locality","state_district","state_code","geometry","lng","components","ForecastBar","handleClick","isExpanded","_this$props","barStyle","width","marginLeft","style","onClick","Graph","yMin","yMax","line","margin","top","right","bottom","left","xScale","yScale","stacked","curve","axisTop","axisRight","axisBottom","orient","tickSize","tickPadding","tickRotation","legendOffset","legendPosition","tickValues","axisLeft","legend","enableGridX","colors","dotSize","dotColor","dotBorderWidth","dotBorderColor","enableDotLabel","dotLabel","dotLabelYOffset","animate","motionStiffness","motionDamping","isInteractive","WeatherContainer","Graph_Graph","index","ForecastBar_ForecastBar","assign","reverseGeocode","App","getGeolocation","navigator","geolocation","getCurrentPosition","position","coords","getWeatherByGeolocation","locationGranted","getUserIP","userLocation","location","error","redirectPath","shouldRedirect","pathname","includes","containers_Search_Search","Redirect","to","components_WeatherContainer_WeatherContainer","withRouter","_ref3","initialState","rootReducer","combineReducers","length","undefined","action","devTools","composeWithDevTools","applyMiddleware","thunk","store","createStore","provider","es","BrowserRouter","containers_App_App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6db28888.chunk.js","sourcesContent":["export const fetchData = async (url) => {\n  const response = await fetch(url);\n  if (!response.ok) {\n    const message = await response.json();\n    throw Error(message);\n  }\n  return await response.json();\n}","export const setCoordinates = ({ latitude, longitude }) => ({\n  type: 'SET_COORDINATES',\n  latitude,\n  longitude\n});\n\nexport const setCity = (city) => ({\n  type: 'SET_CITY',\n  city\n})\n\nexport const setWeather = (weather) => ({\n  type: 'SET_WEATHER',\n  weather\n});\n\nexport const setError = (message) => ({\n  type: 'SET_ERROR',\n  message\n});\n\nexport const toggleLoading = (bool) => ({\n  type: 'TOGGLE_LOADING',\n  isLoading: bool\n});","export const cleanData = (weather) => {\n  const { temperature, apparentTemperature, summary } = weather.currently;\n  const { minTemp, maxTemp } = weather.daily.data.reduce((acc, day) => {\n    acc.minTemp = Math.round(Math.min(acc.minTemp, day.temperatureLow));\n    acc.maxTemp = Math.round(Math.max(acc.maxTemp, day.temperatureHigh));\n    return acc;\n  }, { minTemp: 200, maxTemp: -200});\n  const week = getWeekForecast(weather.daily.data);\n  const firstDay = week.shift();\n  const today = {\n    ...firstDay,\n    summary,\n    temperature: Math.round(temperature),\n    feelsLike: Math.round(apparentTemperature)\n  };\n  const graphData = getGraphData(weather.hourly.data.slice(0,24));\n  return { today, week, minTemp, maxTemp, graphData };\n}\n\nexport const getWeekForecast = (data) => {\n  return data.map(forecast => {\n    const {\n      summary,\n      icon,\n      precipType,\n      precipProbability,\n      time,\n      temperatureLow,\n      temperatureHigh,\n      sunriseTime,\n      sunsetTime,\n      windSpeed,\n      windBearing,\n      humidity\n    } = forecast;\n    return {\n      summary,\n      icon,\n      precipType,\n      precipProbability: Math.round(precipProbability * 100) + '%',\n      day: (new Date(time * 1000).toDateString().slice(0,3)),\n      low: Math.round(temperatureLow),\n      high: Math.round(temperatureHigh),\n      sunrise: (new Date(sunriseTime * 1000))\n        .toLocaleTimeString('en-US').replace(/:\\d+/, ''),\n      sunset: (new Date(sunsetTime * 1000))\n        .toLocaleTimeString('en-US').replace(/:\\d+/, ''),\n      wind: Math.round(windSpeed) + ' mph ' + getWindDirection(windBearing),\n      humidity: Math.round(humidity * 100) + '%'\n    }\n  });\n}\n\nexport const getWindDirection = (windBearing) => {\n  switch (Math.round(windBearing / 22.5) % 16) {\n    case 0: return 'N';\n    case 1: return 'NNE';\n    case 2: return 'NE';\n    case 3: return 'ENE';\n    case 4: return 'E';\n    case 5: return 'ESE';\n    case 6: return 'SE';\n    case 7: return 'SSE';\n    case 8: return 'S';\n    case 9: return 'SSW';\n    case 10: return 'SW';\n    case 11: return 'WSW';\n    case 12: return 'W';\n    case 13: return 'WNW';\n    case 14: return 'NW';\n    case 15: return 'NNW';\n    default: return undefined;\n  }\n}\n\nexport const getGraphData = (hourData) => {\n  const data = hourData.map(hour => {\n    return {\n      x: (new Date(hour.time * 1000))\n        .toLocaleTimeString().replace(/:\\d+/, ''),\n      y: Math.round(hour.temperature)\n    }\n  });\n  return [{ id: \"\", data }];\n}","import { fetchData } from '../utils/api';\nimport { cleanData } from '../utils/dataCleaner';\nimport { setWeather, setError } from '../actions';\n\nexport const getWeather = ({ latitude: lat, longitude: lon }) => {\n  return async (dispatch) => {\n    try {\n      const url = `https://weekly-weather.herokuapp.com/api/v1/weather/${lat}/${lon}`;\n      const weather = await fetchData(url);\n      dispatch(setWeather(cleanData(weather)));\n      dispatch(setError(''));\n    } catch (error) {\n      dispatch(setError(error.message))      \n    }\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { forwardGeocode } from '../../thunks/forwardGeocode';\nimport PropTypes from 'prop-types';\n\nexport class Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      query: ''\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({ query: event.target.value });\n  }\n\n  handleSubmit = async (event) => {\n    event.preventDefault();\n    let { query } = this.state;\n    this.props.forwardGeocode(query);\n    this.setState({ query: '' });\n  }\n\n  render() {\n    return(\n      <form onSubmit={this.handleSubmit} className='Search'>\n        <input\n          value={this.state.query}\n          onChange={this.handleChange}\n          placeholder='search cities'\n          className='Search--input'\n        />\n      </form>\n    );\n  }\n}\n\nexport const mapDispatchToProps = (dispatch) => ({\n  forwardGeocode: (query) => dispatch(forwardGeocode(query))\n});\n\nexport default connect(null, mapDispatchToProps)(Search);\n\nSearch.propTypes = {\n  forwardGeocode: PropTypes.func\n}","import { fetchData } from '../utils/api';\nimport { setCoordinates, setCity, setError, toggleLoading } from '../actions';\nimport { getWeather } from '../thunks/getWeather';\n\nexport const forwardGeocode = (userQuery) => {\n  return async (dispatch) => {\n    dispatch(toggleLoading(true));\n    try {\n      const query = userQuery.replace(/\\s/g, '+').replace(/,/g, '%2C');\n      const url = `https://weekly-weather.herokuapp.com/api/v1/forwardgeocode/${query}`;\n      const geocodeData = await fetchData(url);\n      const { lat: latitude, lng: longitude } = geocodeData[0].geometry;\n      const { city, locality, state_district, state_code } = geocodeData[0].components;\n      const cityName = city || locality || state_district;\n      dispatch(setCity(`${cityName}, ${state_code}`));\n      dispatch(setCoordinates({ latitude, longitude }));\n      dispatch(getWeather({ latitude, longitude }));\n      dispatch(setError(''));\n    } catch (error) {\n      dispatch(setError(error.message))\n    }\n    dispatch(toggleLoading(false));\n  }\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class ForecastBar extends Component {\n  constructor() {\n    super();\n    this.state = { isExpanded: false };\n  }\n\n  handleClick = () => {\n    this.setState({ isExpanded: !this.state.isExpanded });\n  }\n\n  render() {\n    const { isExpanded } = this.state;\n    const {\n      min,\n      max,\n      day,\n      summary,\n      icon,\n      precipType,\n      precipProbability,\n      low,\n      high,\n      sunrise,\n      sunset,\n      wind,\n      humidity\n    } = this.props;\n    const barStyle = {\n      width: 100 * (high - low) / (max - min) + '%',\n      marginLeft: 100 * (low - min) / (max - min) + '%'\n    }\n    return (\n      <div className=\"ForecastBar\">\n        <div className={'ForecastBar--bar-container'}>\n          <span className={icon +' small-icon'}></span>\n          <span className='day'>{day}</span>\n          <span className='bar-container'>\n            <span className='bar' style={barStyle}>\n              <span className='low'>{low}°</span>\n              <span className='high'>{high}°</span>\n            </span>\n          </span>\n          <button className='ForecastBar--button' onClick={this.handleClick}>\n            {isExpanded ? '--' : '+'}\n          </button>\n        </div>\n        {isExpanded &&\n          <article className=\"article article--expanded\">\n            <header className='article--header'>\n              <h2 className=\"article--h2\"><div className={icon}></div>{summary}</h2>\n              <span>Chance of {precipType}: {precipProbability}</span>\n            </header>\n            <div className=\"article--div\">\n              <p className=\"p\">Low: {low}°</p>\n              <p className=\"p\">Sunrise: {sunrise}</p>\n              <p className=\"p\">Wind: {wind}</p>\n              <p className=\"p\">High: {high}°</p>\n              <p className=\"p\">Sunset: {sunset}</p>\n              <p className=\"p\">Humidity: {humidity}</p>\n            </div>\n          </article>\n        }\n      </div>\n    );\n  }\n}\n\nForecastBar.propTypes = {\n  min: PropTypes.number,\n  max: PropTypes.number,\n  day: PropTypes.string,\n  summary: PropTypes.string,\n  icon: PropTypes.string,\n  precipType: PropTypes.string,\n  precipProbability: PropTypes.string,\n  low: PropTypes.number,\n  high: PropTypes.number,\n  sunrise: PropTypes.string,\n  sunset: PropTypes.string,\n  wind: PropTypes.string,\n  humidity: PropTypes.string\n}","import React from 'react';\nimport { ResponsiveLine } from '@nivo/line';\nimport PropTypes from 'prop-types';\n\nexport const Graph = ({ data, low, high }) => {\n  const yMin = Math.min(0, low);\n  const yMax = high + 20;\n  return (\n    <div className='Graph'>\n      <h3 className=\"h3\">24 Hour Forecast</h3>\n      <ResponsiveLine\n          data={data}\n          margin={{\n              \"top\": 16,\n              \"right\": 24,\n              \"bottom\": 64,\n              \"left\": 48\n          }}\n          xScale={{\n              \"type\": \"point\"\n          }}\n          yScale={{\n              \"type\": \"linear\",\n              \"stacked\": true,\n              \"min\": yMin,\n              \"max\": yMax\n          }}\n          curve=\"monotoneX\"\n          axisTop={null}\n          axisRight={null}\n          axisBottom={{\n              \"orient\": \"bottom\",\n              \"tickSize\": 5,\n              \"tickPadding\": 5,\n              \"tickRotation\": -60,\n              \"legendOffset\": 36,\n              \"legendPosition\": \"middle\",\n              \"tickValues\": 0\n          }}\n          axisLeft={{\n              \"orient\": \"left\",\n              \"tickSize\": 5,\n              \"tickPadding\": 5,\n              \"tickRotation\": 0,\n              \"legend\": \"Fahrenheit\",\n              \"legendOffset\": -32,\n              \"legendPosition\": \"middle\"\n          }}\n          enableGridX={false}\n          colors={['#4285f4']}\n          dotSize={10}\n          dotColor=\"inherit:darker(0.3)\"\n          dotBorderWidth={2}\n          dotBorderColor=\"#ffffff\"\n          enableDotLabel={true}\n          dotLabel=\"y\"\n          dotLabelYOffset={-12}\n          animate={true}\n          motionStiffness={90}\n          motionDamping={15}\n          isInteractive={false}\n      />\n    </div>\n  )\n}\n\nGraph.propTypes = {\n  data: PropTypes.array,\n  low: PropTypes.number,\n  high: PropTypes.number,\n}","import React from 'react';\nimport { ForecastBar } from '../ForecastBar/ForecastBar';\nimport { Graph } from '../Graph/Graph';\nimport PropTypes from 'prop-types';\n\nconst WeatherContainer = ({ city, weather }) => {\n  const { today, week, minTemp, maxTemp, graphData } = weather;\n  const {\n    temperature,\n    feelsLike,\n    summary,\n    icon,\n    precipType,\n    precipProbability,\n    low,\n    high,\n    sunrise,\n    sunset,\n    wind,\n    humidity\n  } = today;\n\n  return (\n    <main className=\"WeatherContainer\">\n      <article className=\"article\">\n        <header className='article--header'>\n          <h2 className=\"h2\">\n            <div className={icon}></div>\n            {temperature}° and {summary} in {city}\n          </h2>\n          <span className=\"header--span--feels\">\n            Feels like: {feelsLike}°\n          </span>\n          <span className=\"header--span--precip\">\n            Chance of {precipType}: {precipProbability}\n          </span>\n        </header>\n        <div className=\"article--div\">\n          <p className=\"p\">Low: {low}°</p>\n          <p className=\"p\">Sunrise: {sunrise}</p>\n          <p className=\"p\">Wind: {wind}</p>\n          <p className=\"p\">High: {high}°</p>\n          <p className=\"p\">Sunset: {sunset}</p>\n          <p className=\"p\">Humidity: {humidity}</p>\n\n        </div>\n      </article>\n      <Graph data={graphData} low={low} high={high} />\n      <section className=\"section\">\n        {week.map((day, index) => {\n          return (\n            <ForecastBar key={index} min={minTemp} max={maxTemp} {...day} />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default WeatherContainer;\n\nWeatherContainer.propTypes = {\n  city: PropTypes.string,\n  weather: PropTypes.object\n}","import { fetchData } from '../utils/api';\nimport { setCity, setError } from '../actions';\n\nexport const reverseGeocode = ({ latitude: lat, longitude: lon }) => {\n  return async (dispatch) => {\n    try {\n      const url = `https://weekly-weather.herokuapp.com/api/v1/reversegeocode/${lat}/${lon}`;\n      const geocodeData = await fetchData(url);\n      const { city, locality, state_district, state_code } = geocodeData[0].components;\n      const cityName = city || locality || state_district;\n      dispatch(setCity(`${cityName}, ${state_code}`));\n      dispatch(setError(''));\n    } catch (error) {\n      dispatch(setError(error.message))\n    }\n  }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport Search from '../Search/Search';\nimport WeatherContainer from '../../components/WeatherContainer/WeatherContainer';\nimport { getUserIP } from '../../thunks/getUserIP';\nimport { getWeatherByGeolocation } from '../../thunks/getWeatherByGeolocation';\nimport PropTypes from 'prop-types';\n\nexport class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      locationGranted: true\n    }\n  }\n\n  componentDidMount() {\n    this.getGeolocation();\n  }\n\n  getGeolocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(async (position) => {\n        const { latitude, longitude } = await position.coords;\n        this.props.getWeatherByGeolocation({ latitude, longitude });\n      },\n        () => {\n          this.setState({ locationGranted: false }, () => this.props.getUserIP())\n        }\n      );\n    } else {\n      this.props.getUserIP();\n    }\n  }\n\n  render() {\n    const { userLocation, weather, location, error, isLoading } = this.props;\n    const { city } = userLocation;\n    const redirectPath = city.replace(/\\s/g, '');\n    const shouldRedirect = !location.pathname.includes(redirectPath) && city;\n    return (\n      <div className=\"App\">\n        <header className=\"App--header\">\n          <h1 className=\"h1\">Weekly Weather</h1>\n        </header>\n        <Search />\n        {!isLoading && \n          <div>\n            {shouldRedirect && <Redirect to={redirectPath} />}\n            {weather.today && !error &&\n              <WeatherContainer city={city} weather={weather} />}\n            {!this.state.locationGranted && !userLocation.city && \n              <h2 className=\"App--h2\">\n                Share your location for automatic redirection to your city\n              </h2>\n            }\n            {error && <h2 className=\"App--h2\">No results found</h2>}\n          </div>}\n        {isLoading && <h2 className=\"App--h2\">Loading...</h2>}\n      </div>\n    );\n  }\n}\n\nexport const mapStateToProps = (state) => ({\n  userLocation: state.location,\n  weather: state.weather,\n  error: state.error,\n  isLoading: state.isLoading\n});\n\nexport const mapDispatchToProps = (dispatch) => ({\n  getUserIP: () => dispatch(getUserIP()),\n  getWeatherByGeolocation: ({ latitude, longitude }) => dispatch(getWeatherByGeolocation({ latitude, longitude }))\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n\nApp.propTypes = {\n  userLocation: PropTypes.object,\n  weather: PropTypes.object,\n  error: PropTypes.string,\n  isLoading: PropTypes.bool,\n  getUserIP: PropTypes.func,\n  getWeatherByGeolocation: PropTypes.func,\n}","import { fetchData } from '../utils/api';\nimport { setCoordinates, setError, toggleLoading } from '../actions';\nimport { reverseGeocode } from '../thunks/reverseGeocode';\nimport { getWeather } from '../thunks/getWeather';\n\nexport const getUserIP = () => {\n  return async (dispatch) => {\n    dispatch(toggleLoading(true));\n    try{\n      const url = 'https://weekly-weather.herokuapp.com/api/v1/ip';\n      const { latitude, longitude } = await fetchData(url);\n      dispatch(setCoordinates({ latitude, longitude }));\n      dispatch(reverseGeocode({ latitude, longitude }));\n      dispatch(getWeather({ latitude, longitude }));\n      dispatch(setError(''));\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n    dispatch(toggleLoading(false));\n  }\n}","import { setCoordinates, setError, toggleLoading } from '../actions';\nimport { reverseGeocode } from '../thunks/reverseGeocode';\nimport { getWeather } from '../thunks/getWeather';\n\nexport const getWeatherByGeolocation = ({ latitude, longitude }) => {\n  return async (dispatch) => {\n    dispatch(toggleLoading(true));\n    try{\n      dispatch(setCoordinates({ latitude, longitude }));\n      await dispatch(reverseGeocode({ latitude, longitude }));\n      await dispatch(getWeather({ latitude, longitude }));\n      dispatch(setError(''));\n    } catch (error) {\n      dispatch(setError(error.message));\n    }\n    dispatch(toggleLoading(false));\n  }\n}","export const initialState = {\n  latitude: null,\n  longitude: null,\n  city: ''\n}\n\nexport const locationReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_COORDINATES':\n      const { latitude, longitude } = action;\n      return { ...state, latitude, longitude };\n    case 'SET_CITY':\n      const { city } = action;\n      return { ...state, city };    \n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport { locationReducer } from './locationReducer';\nimport { weatherReducer } from './weatherReducer';\nimport { errorReducer } from './errorReducer';\nimport { isLoadingReducer } from './isLoadingReducer';\n\nconst rootReducer = combineReducers({\n  location: locationReducer,\n  weather: weatherReducer,\n  error: errorReducer,\n  isLoading: isLoadingReducer\n});\n\nexport default rootReducer;","export const weatherReducer = (state = {}, action) => {\n  switch (action.type) {\n    case 'SET_WEATHER':\n      return action.weather\n    default:\n      return state;\n  }\n}","export const errorReducer = (state = '', action) => {\n  switch (action.type) {\n    case 'SET_ERROR':\n      return action.message\n    default:\n      return state;\n  }\n}","export const isLoadingReducer = (state = false, action) => {\n  switch (action.type) {\n    case 'TOGGLE_LOADING':\n      return action.isLoading;\n    default:\n      return state;\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/main.scss'\nimport App from './containers/App/App';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst devTools = composeWithDevTools(applyMiddleware(thunk));\nconst store = createStore(rootReducer, devTools);\nconst provider = (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(provider, document.getElementById('root'));"],"sourceRoot":""}